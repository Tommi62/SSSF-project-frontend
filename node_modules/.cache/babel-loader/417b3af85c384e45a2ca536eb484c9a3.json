{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tommivainio/Projektit/chatApp/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tommivainio/Projektit/chatApp/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tommivainio/Projektit/chatApp/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable react-hooks/exhaustive-deps */import{useContext}from'react';import{useEffect,useState}from'react';import{WebsocketContext}from'../contexts/websocketContext';import{useUsers}from'../hooks/apiHooks';import{jsx as _jsx}from\"react/jsx-runtime\";var Profile=function Profile(){var _useState=useState({id:'',username:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useContext=useContext(WebsocketContext),websocket=_useContext.websocket;var _useUsers=useUsers(),getProfile=_useUsers.getProfile;useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(websocket!==undefined){websocket.close();}_context.next=4;return getProfile();case 4:result=_context.sent;console.log('Profile: ',result);setUser(result);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}))();},[]);return/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:'pre-line'},children:/*#__PURE__*/_jsx(\"h1\",{children:!user?\"Loading...\":user.username+'\\n'+user.id})});};export default Profile;","map":{"version":3,"sources":["/Users/tommivainio/Projektit/chatApp/my-app/src/views/profile.tsx"],"names":["useContext","useEffect","useState","WebsocketContext","useUsers","Profile","id","username","user","setUser","websocket","getProfile","undefined","close","result","console","log","message","whiteSpace"],"mappings":"meAAA,gDACA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,gBAAT,KAAiC,8BAAjC,CACA,OAASC,QAAT,KAAyB,mBAAzB,C,2CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClB,cAAwBH,QAAQ,CAAC,CAAEI,EAAE,CAAE,EAAN,CAAUC,QAAQ,CAAE,EAApB,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,gBAAsBT,UAAU,CAACG,gBAAD,CAAhC,CAAQO,SAAR,aAAQA,SAAR,CACA,cAAuBN,QAAQ,EAA/B,CAAQO,UAAR,WAAQA,UAAR,CAEAV,SAAS,CAAC,UAAM,CACZ,wDAAC,8JAEO,GAAIS,SAAS,GAAKE,SAAlB,CAA6B,CACzBF,SAAS,CAACG,KAAV,GACH,CAJR,sBAK4BF,CAAAA,UAAU,EALtC,QAKaG,MALb,eAMOC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBF,MAAzB,EACAL,OAAO,CAACK,MAAD,CAAP,CAPP,+EASOC,OAAO,CAACC,GAAR,CAAY,YAAEC,OAAd,EATP,oEAAD,KAYH,CAbQ,CAaN,EAbM,CAAT,CAeA,mBACI,YAAK,KAAK,CAAE,CAAEC,UAAU,CAAE,UAAd,CAAZ,uBACI,oBAAK,CAACV,IAAD,CAAQ,YAAR,CAAuBA,IAAI,CAACD,QAAL,CAAgB,IAAhB,CAAuBC,IAAI,CAACF,EAAxD,EADJ,EADJ,CAKH,CAzBD,CA2BA,cAAeD,CAAAA,OAAf","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useContext } from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { WebsocketContext } from '../contexts/websocketContext';\r\nimport { useUsers } from '../hooks/apiHooks';\r\n\r\nconst Profile = () => {\r\n    const [user, setUser] = useState({ id: '', username: '' })\r\n    const { websocket } = useContext(WebsocketContext);\r\n    const { getProfile } = useUsers();\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                if (websocket !== undefined) {\r\n                    websocket.close();\r\n                }\r\n                const result = await getProfile();\r\n                console.log('Profile: ', result);\r\n                setUser(result);\r\n            } catch (e) {\r\n                console.log(e.message);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ whiteSpace: 'pre-line' }}>\r\n            <h1>{!user ? \"Loading...\" : user.username + '\\n' + user.id}</h1>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile"]},"metadata":{},"sourceType":"module"}